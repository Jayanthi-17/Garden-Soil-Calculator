<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Soil Calculator</title>
</head>
<body>
  <div id="soilCalculatorContainer"></div>

  <script>
    // Create the main container
    const calculatorContainer = document.getElementById('soilCalculatorContainer');
    
    // Create and append styles
    const styleElement = document.createElement('style');
    styleElement.textContent = `
      body {
        background-color: #f9f9f9;
        font-family: 'Helvetica Neue', Arial, sans-serif;
        margin: 0;
        padding: 20px;
        color: #333;
      }
      
      .soil-calculator {
        background-color: white;
        padding: 25px;
        max-width: 600px;
        margin: 0 auto;
        border-radius: 8px;
        box-shadow: 0 2px 5px rgba(0,0,0,0.1);
      }

      .soil-calculator h2 {
        color: #ad2a24;
        margin-top: 0;
        font-size: 24px;
        font-weight: 600;
        border-bottom: 1px solid #eee;
        padding-bottom: 10px;
      }

      .soil-calculator label {
        font-weight: bold;
        display: block;
        margin-top: 15px;
        color: #ad2a24;
        font-size: 15px;
      }

      .soil-calculator select, 
      .soil-calculator input {
        width: 100%;
        padding: 10px;
        margin-top: 5px;
        margin-bottom: 10px;
        border: 1px solid #ddd;
        border-radius: 4px;
        font-size: 15px;
      }

      .soil-calculator button {
        background-color: #ad2a24;
        color: white;
        border: none;
        padding: 12px 20px;
        margin-right: 10px;
        margin-top: 10px;
        border-radius: 4px;
        cursor: pointer;
        font-size: 15px;
        font-weight: 600;
        transition: background-color 0.3s;
      }

      .soil-calculator button:hover {
        background-color: #9a221e;
      }

      .soil-calculator .result, 
      .soil-calculator .alert {
        margin-top: 20px;
        padding: 15px;
        border-radius: 4px;
        background-color: #fdf1f0;
        border-left: 4px solid #ad2a24;
      }

      .soil-calculator .hidden {
        display: none;
      }

      .radio-group {
        display: flex;
        gap: 20px;
        margin: 15px 0;
      }

      .radio-option {
        display: flex;
        align-items: center;
      }

      .radio-option input[type="radio"] {
  width: 20px;
  height: 20px;
  accent-color: #ad2a24;
  margin-right: 8px;
  cursor: pointer;
}


      @media (max-width: 600px) {
        .soil-calculator {
          padding: 15px;
        }
        
        .soil-calculator button {
          width: 100%;
          margin-bottom: 10px;
        }

        .radio-group {
          flex-direction: column;
          gap: 10px;
        }
      }
    `;
    document.head.appendChild(styleElement);

    // Create the calculator HTML structure
    const calculatorHTML = `
      <div class="soil-calculator">
      
        <label>Planter Style</label>
        <div class="radio-group">
          <div class="radio-option">
            <input type="radio" id="raisedRadio" name="planterStyle" value="raised" checked><strong>Raised Bed</strong>
             
          </div>
          <div class="radio-option">
            <input type="radio" id="potRadio" name="planterStyle" value="pot"><strong>Pot</strong>
            
          </div>
        </div>

        <div id="raisedFields">
          <label for="length">Length</label>
          <input type="number" id="length" placeholder="Enter length">
          
          <label for="width">Width</label>
          <input type="number" id="width" placeholder="Enter width">

          <label for="unitRaised">Unit</label>
          <select id="unitRaised">
            <option value="feet">Feet</option>
            <option value="yards">Yards</option>
            <option value="meters">Meters</option>
          </select>
        </div>

        <div id="potFields" class="hidden">
          <label for="diameter">Diameter</label>
          <input type="number" id="diameter" placeholder="Enter diameter">

          <label for="unitPot">Unit</label>
          <select id="unitPot">
            <option value="inches">Inches</option>
            <option value="cm">Centimeters</option>
          </select>
        </div>

        <label for="depth">Depth (inches)</label>
        <input type="number" id="depth" value="6">

        <button id="calculateBtn">Calculate</button>
        <button id="resetBtn">Reset</button>

        <div id="alert" class="alert hidden"></div>
        <div id="result" class="result hidden"></div>
      </div>
    `;

    // Add the calculator to the container
    calculatorContainer.innerHTML = calculatorHTML;

    // Calculator functionality
    const raisedRadio = document.getElementById('raisedRadio');
    const potRadio = document.getElementById('potRadio');
    const raisedFields = document.getElementById('raisedFields');
    const potFields = document.getElementById('potFields');
    const resultDiv = document.getElementById('result');
    const alertDiv = document.getElementById('alert');

    function handlePlanterStyleChange() {
      if (raisedRadio.checked) {
        raisedFields.classList.remove('hidden');
        potFields.classList.add('hidden');
      } else {
        potFields.classList.remove('hidden');
        raisedFields.classList.add('hidden');
      }
      clearOutput();
    }

    raisedRadio.addEventListener('change', handlePlanterStyleChange);
    potRadio.addEventListener('change', handlePlanterStyleChange);

    function showAlert(message) {
      alertDiv.innerHTML = message;
      alertDiv.classList.remove('hidden');
      resultDiv.classList.add('hidden');
    }

    function showResult(message) {
      resultDiv.innerHTML = message;
      resultDiv.classList.remove('hidden');
      alertDiv.classList.add('hidden');
    }

    function clearOutput() {
      resultDiv.classList.add('hidden');
      alertDiv.classList.add('hidden');
    }

    function resetForm() {
      document.getElementById('length').value = '';
      document.getElementById('width').value = '';
      document.getElementById('diameter').value = '';
      document.getElementById('depth').value = 6;
      raisedRadio.checked = true;
      potRadio.checked = false;
      raisedFields.classList.remove('hidden');
      potFields.classList.add('hidden');
      clearOutput();
    }

    function calculate() {
      const depthInches = parseFloat(document.getElementById('depth').value);
      if (isNaN(depthInches) || depthInches <= 0) {
        showAlert("Please enter a valid depth in inches.");
        return;
      }

      if (raisedRadio.checked) {
        const l = parseFloat(document.getElementById('length').value);
        const w = parseFloat(document.getElementById('width').value);
        const unit = document.getElementById('unitRaised').value;

        if (isNaN(l) || isNaN(w) || l <= 0 || w <= 0) {
          showAlert("Please enter valid dimensions for the raised bed.");
          return;
        }

        // Convert to feet
        let lengthFeet = l, widthFeet = w;
        if (unit === 'meters') {
          lengthFeet = l * 3.28084;
          widthFeet = w * 3.28084;
        } else if (unit === 'yards') {
          lengthFeet = l * 3;
          widthFeet = w * 3;
        }

        const depthFeet = depthInches / 12;
        const volumeCubicFeet = lengthFeet * widthFeet * depthFeet;
        const volumeCubicYards = volumeCubicFeet / 27;
        const volumeCubicMeters = volumeCubicFeet * 0.0283168;
        const volumeLiters = volumeCubicFeet * 28.3168;

        const compost = (volumeCubicYards * 0.4).toFixed(2);
        const topsoil = (volumeCubicYards * 0.4).toFixed(2);
        const sand = (volumeCubicYards * 0.2).toFixed(2);

        showResult(`
          <strong>Soil Volume Required:</strong><br>
          ${volumeCubicYards.toFixed(2)} cubic yards<br>
          ${volumeCubicFeet.toFixed(2)} cubic feet<br>
          ${volumeCubicMeters.toFixed(2)} cubic meters<br>
          ${volumeLiters.toFixed(2)} liters<br><br>
          <strong>Here's what you need: </strong><br>
          ${compost} cubic yard compost (40%)<br>
          ${topsoil} cubic yard topsoil (40%)<br>
          ${sand} cubic yard sand (20%)<br>
        `);
      } else {
        const d = parseFloat(document.getElementById('diameter').value);
        const unit = document.getElementById('unitPot').value;

        if (isNaN(d) || d <= 0) {
          showAlert("Please enter a valid diameter for the pot.");
          return;
        }

        let diameterInches = d;
        if (unit === 'cm') diameterInches = d / 2.54;

        const radiusFeet = (diameterInches / 2) / 12;
        const depthFeet = depthInches / 12;

        const volumeCubicFeet = Math.PI * Math.pow(radiusFeet, 2) * depthFeet;
        const volumeCubicYards = volumeCubicFeet / 27;
        const volumeCubicMeters = volumeCubicFeet * 0.0283168;
        const volumeLiters = volumeCubicFeet * 28.3168;

        const bagsNeeded = Math.ceil(volumeCubicFeet / 1.5);

        showResult(`
          <strong>Soil Volume Required:</strong><br>
          ${volumeCubicYards.toFixed(2)} cubic yards<br>
          ${volumeCubicFeet.toFixed(2)} cubic feet<br>
          ${volumeCubicMeters.toFixed(2)} cubic meters<br>
          ${volumeLiters.toFixed(2)} liters<br><br>
          <strong>Here's what you need:</strong><br>
          ~${bagsNeeded} bag(s) of 1.5 cubic feet potting mix
        `);
      }
    }

    // Add event listeners to buttons
    document.getElementById('calculateBtn').addEventListener('click', calculate);
    document.getElementById('resetBtn').addEventListener('click', resetForm);
  </script>
</body>
</html>